-- Change difficulty from INT to VARCHAR (enum)
ALTER TABLE problems ALTER COLUMN difficulty TYPE VARCHAR(50) USING CASE difficulty
    WHEN 0 THEN 'UNRATED'
    WHEN 1 THEN 'MOON_5'
    WHEN 2 THEN 'MOON_4'
    WHEN 3 THEN 'MOON_3'
    WHEN 4 THEN 'MOON_2'
    WHEN 5 THEN 'MOON_1'
    WHEN 6 THEN 'STAR_5'
    WHEN 7 THEN 'STAR_4'
    WHEN 8 THEN 'STAR_3'
    WHEN 9 THEN 'STAR_2'
    WHEN 10 THEN 'STAR_1'
    WHEN 11 THEN 'COMET_5'
    WHEN 12 THEN 'COMET_4'
    WHEN 13 THEN 'COMET_3'
    WHEN 14 THEN 'COMET_2'
    WHEN 15 THEN 'COMET_1'
    WHEN 16 THEN 'PLANET_5'
    WHEN 17 THEN 'PLANET_4'
    WHEN 18 THEN 'PLANET_3'
    WHEN 19 THEN 'PLANET_2'
    WHEN 20 THEN 'PLANET_1'
    WHEN 21 THEN 'NEBULA_5'
    WHEN 22 THEN 'NEBULA_4'
    WHEN 23 THEN 'NEBULA_3'
    WHEN 24 THEN 'NEBULA_2'
    WHEN 25 THEN 'NEBULA_1'
    WHEN 26 THEN 'GALAXY_5'
    WHEN 27 THEN 'GALAXY_4'
    WHEN 28 THEN 'GALAXY_3'
    WHEN 29 THEN 'GALAXY_2'
    WHEN 30 THEN 'GALAXY_1'
    ELSE 'UNRATED'
END;
